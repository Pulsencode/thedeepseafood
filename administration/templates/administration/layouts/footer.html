{% load static %}
</div>
<!-- FOOTER -->
<footer class="footer">
    <div class="container">
        <div class="row align-items-center flex-row-reverse">
            <div class="col-md-12 col-sm-12 text-center">
                Copyright Â© <span id="year"></span>The Deep Seafood All rights reserved.
            </div>
        </div>
    </div>
</footer>

<!-- Display form errors and messages -->
{% if messages %}
    {% for message in messages %}
        <div class="alert alert-primary alert-dismissible fade show m-0 text-center border-0"
             id="success"
             role="alert">
            {{ message }}
            <button type="button"
                    class="btn-close text-dark "
                    data-bs-dismiss="alert"
                    aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}
{% comment %} {% if form.non_field_errors %}
    <div class="alert alert-danger">
        {% for error in form.non_field_errors %}<p>{{ error }}</p>{% endfor %}
    </div>
{% endif %} {% endcomment %}

<!-- Required JS Libraries -->
<script src="{% static 'superadmin/assets/plugins/fileuploads/js/fileupload.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/fileuploads/js/file-upload.js' %}"></script>

<script src="{% static 'superadmin/assets/plugins/select2/select2.full.min.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/fancyuploder/jquery.ui.widget.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/fancyuploder/jquery.fileupload.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/fancyuploder/jquery.iframe-transport.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/fancyuploder/jquery.fancy-fileupload.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/formwizard/jquery.smartWizard.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/formwizard/fromwizard.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/jquery-steps/jquery.steps.min.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/parsleyjs/parsley.min.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/multipleselect/multiple-select.js' %}"></script>
<script src="{% static 'superadmin/assets/plugins/multipleselect/multi-select.js' %}"></script>
<script src="{% static 'superadmin/assets/js/form-elements.js' %}"></script>
<script src="{% static 'superadmin/assets/js/formelementadvnced.js' %}"></script>

<!-- External Libraries (you can host these locally for better performance) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<!-- Croppie Initialization -->
<script>
    function initCroppie(imageClass, uploadDemoId, cropModalId, cropBtnId, outputImgId, width, height) {
        var $uploadCrop;
        var rawImg;

        $("." + imageClass).attr("src", "https://deepsea.noviindus.in/static/superadmin/assets/images_ex/up.png");

        $uploadCrop = $('#' + uploadDemoId).croppie({
            viewport: { width: width, height: height },
            enforceBoundary: false,
            enableExif: true
        });

        $('#' + cropModalId).on('shown.bs.modal', function () {
            $uploadCrop.croppie('bind', { url: rawImg }).then(() => console.log('Croppie bind complete'));
        });

        $('.' + imageClass + '-input').on('change', function () {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('.upload-demo').addClass('ready');
                $('#' + cropModalId).modal('show');
                rawImg = e.target.result;
            }
            reader.readAsDataURL(this.files[0]);
        });

        $('#' + cropBtnId).on('click', function () {
            $uploadCrop.croppie('result', {
                type: 'base64',
                format: 'png',
                size: { width: width, height: height }
            }).then(function (resp) {
                $('#' + outputImgId).attr('src', resp);
                $('#cropped-img').val(resp);
                $('#' + cropModalId).modal('hide');
            });
        });
    }

    // Initialize croppie for all images
    initCroppie('gambar1', 'upload-demo1', 'cropImagePop1', 'cropImageBtn1', 'item-img-output1', 300, 120);
    initCroppie('gambar2', 'upload-demo2', 'cropImagePop2', 'cropImageBtn2', 'item-img-output2', 334, 300);
    initCroppie('gambar3', 'upload-demo3', 'cropImagePop3', 'cropImageBtn3', 'item-img-output3', 240, 150);
    initCroppie('gambar4', 'upload-demo4', 'cropImagePop4', 'cropImageBtn4', 'item-img-output4', 250, 250);
</script>

<!-- Any additional custom scripts -->
<script>
    $(document).ready(function() {
        // Example: Initialize Select2 for all select elements
        $('.select2').select2();
    });
</script>